import{c as h,k as B,a as C,m as L,s as N,l as q,n as H,o as U,g as J,p as v,q as M,r as m,e as W,b as X,f as Y,h as Q,j as V,t as Z}from"./event-DyFzzncj.js";import{b7 as w,aS as _,af as k,aK as z,b8 as tt,a9 as et,ai as nt,a as P,H as at,u as A,X as F,R as rt,b9 as ot}from"./index-Br7qLbH3.js";import{I as st,j as $,J as ct}from"./aria-gYNd90_s.js";function it(t,e){for(var n=-1,u=t==null?0:t.length;++n<u&&e(t[n],n,t)!==!1;);return t}function ut(t,e){return t&&h(e,B(e),t)}function lt(t,e){return t&&h(e,C(e),t)}function ft(t,e){return h(t,L(t),e)}var gt=Object.getOwnPropertySymbols,D=gt?function(t){for(var e=[];t;)st(e,L(t)),t=q(t);return e}:N;function bt(t,e){return h(t,D(t),e)}function pt(t){return H(t,C,D)}var yt=Object.prototype,Tt=yt.hasOwnProperty;function dt(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Tt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function jt(t,e){var n=e?U(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var At=/\w*$/;function mt(t){var e=new t.constructor(t.source,At.exec(t));return e.lastIndex=t.lastIndex,e}var I=w?w.prototype:void 0,O=I?I.valueOf:void 0;function ht(t){return O?Object(O.call(t)):{}}var $t="[object Boolean]",St="[object Date]",Ct="[object Map]",vt="[object Number]",wt="[object RegExp]",Ft="[object Set]",It="[object String]",Ot="[object Symbol]",xt="[object ArrayBuffer]",Et="[object DataView]",Bt="[object Float32Array]",Lt="[object Float64Array]",Ut="[object Int8Array]",Mt="[object Int16Array]",_t="[object Int32Array]",Pt="[object Uint8Array]",Dt="[object Uint8ClampedArray]",Rt="[object Uint16Array]",Gt="[object Uint32Array]";function Kt(t,e,n){var u=t.constructor;switch(e){case xt:return U(t);case $t:case St:return new u(+t);case Et:return jt(t,n);case Bt:case Lt:case Ut:case Mt:case _t:case Pt:case Dt:case Rt:case Gt:return J(t,n);case Ct:return new u;case vt:case It:return new u(t);case wt:return mt(t);case Ft:return new u;case Ot:return ht(t)}}var Nt="[object Map]";function qt(t){return _(t)&&v(t)==Nt}var x=m&&m.isMap,Ht=x?M(x):qt,Jt="[object Set]";function Wt(t){return _(t)&&v(t)==Jt}var E=m&&m.isSet,Xt=E?M(E):Wt,Yt=1,Qt=2,Vt=4,R="[object Arguments]",Zt="[object Array]",kt="[object Boolean]",zt="[object Date]",te="[object Error]",G="[object Function]",ee="[object GeneratorFunction]",ne="[object Map]",ae="[object Number]",K="[object Object]",re="[object RegExp]",oe="[object Set]",se="[object String]",ce="[object Symbol]",ie="[object WeakMap]",ue="[object ArrayBuffer]",le="[object DataView]",fe="[object Float32Array]",ge="[object Float64Array]",be="[object Int8Array]",pe="[object Int16Array]",ye="[object Int32Array]",Te="[object Uint8Array]",de="[object Uint8ClampedArray]",je="[object Uint16Array]",Ae="[object Uint32Array]",a={};a[R]=a[Zt]=a[ue]=a[le]=a[kt]=a[zt]=a[fe]=a[ge]=a[be]=a[pe]=a[ye]=a[ne]=a[ae]=a[K]=a[re]=a[oe]=a[se]=a[ce]=a[Te]=a[de]=a[je]=a[Ae]=!0;a[te]=a[G]=a[ie]=!1;function S(t,e,n,u,f,i){var o,r=e&Yt,s=e&Qt,g=e&Vt;if(n&&(o=f?n(t,u,f,i):n(t)),o!==void 0)return o;if(!k(t))return t;var y=z(t);if(y){if(o=dt(t),!r)return W(t,o)}else{var b=v(t),j=b==G||b==ee;if(X(t))return Y(t,r);if(b==K||b==R||j&&!f){if(o=s||j?{}:Q(t),!r)return s?bt(t,lt(o,t)):ft(t,ut(o,t))}else{if(!a[b])return f?t:{};o=Kt(t,b,r)}}i||(i=new V);var c=i.get(t);if(c)return c;i.set(t,o),Xt(t)?t.forEach(function(p){o.add(S(p,e,n,p,t,i))}):Ht(t)&&t.forEach(function(p,d){o.set(d,S(p,e,n,d,t,i))});var l=g?s?pt:Z:s?C:B,T=y?void 0:l(t);return it(T||t,function(p,d){T&&(d=p,p=t[d]),tt(o,d,S(p,e,n,d,t,i))}),o}function Ce(t,{disabled:e,beforeFocus:n,afterFocus:u,beforeBlur:f,afterBlur:i}={}){const o=et(),{emit:r}=o,s=nt(),g=P(!1),y=c=>{const l=F(n)?n(c):!1;A(e)||g.value||l||(g.value=!0,r("focus",c),u==null||u())},b=c=>{var l;const T=F(f)?f(c):!1;A(e)||c.relatedTarget&&((l=s.value)!=null&&l.contains(c.relatedTarget))||T||(g.value=!1,r("blur",c),i==null||i())},j=c=>{var l,T;A(e)||ct(c.target)||(l=s.value)!=null&&l.contains(document.activeElement)&&s.value!==document.activeElement||(T=t.value)==null||T.focus()};return at([s,()=>A(e)],([c,l])=>{c&&(l?c.removeAttribute("tabindex"):c.setAttribute("tabindex","-1"))}),$(s,"focus",y,!0),$(s,"blur",b,!0),$(s,"click",j,!0),{isFocused:g,wrapperRef:s,handleFocus:y,handleBlur:b}}const me=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function ve({afterComposition:t,emit:e}){const n=P(!1),u=r=>{e==null||e("compositionstart",r),n.value=!0},f=r=>{var s;e==null||e("compositionupdate",r);const g=(s=r.target)==null?void 0:s.value,y=g[g.length-1]||"";n.value=!me(y)},i=r=>{e==null||e("compositionend",r),n.value&&(n.value=!1,rt(()=>t(r)))};return{isComposing:n,handleComposition:r=>{r.type==="compositionend"?i(r):f(r)},handleCompositionStart:u,handleCompositionUpdate:f,handleCompositionEnd:i}}const we=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Fe=t=>ot(t);export{ve as a,S as b,Fe as c,we as e,pt as g,Ce as u};
