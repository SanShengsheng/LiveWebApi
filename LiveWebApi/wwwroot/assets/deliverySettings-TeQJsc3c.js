import{f as C,a as D,r as k,c as v,o as y,b as t,w as l,e as d,F as $,j as A,k as I,t as q,d as m,i as w,g as z,u as F}from"./index-Br7qLbH3.js";import{E}from"./el-button-BEtRpgsu.js";import{E as R,b as H,a as J}from"./el-tab-pane-D5QdQcwr.js";import{a as S,E as B}from"./el-form-item-bBHczXIO.js";/* empty css                 */import{E as N,a as L}from"./el-col-MQqxtRLI.js";import{E as X,a as j}from"./index-CjimANPX.js";import"./index-4xCaf6Pg.js";import"./index-CCNcamYW.js";import"./aria-gYNd90_s.js";import"./icon-CPPp8HyR.js";import"./typescript-Bp3YSIOJ.js";import"./event-DyFzzncj.js";import"./strings-CP28jiC-.js";import"./vnode-em1sSMFZ.js";import"./isPlainObject-BV-iynuD.js";const M={class:"delivery-item"},O={class:"delivery-title"},Q={class:"delivery-desc"},W={__name:"sameCityDelivery",setup(U){const V=D([{title:"商家配送",desc:"商家配送"},{title:"达达配送",desc:"达达配送"},{title:"点我达",desc:"点我达"},{title:"码科",desc:"码科"},{title:"顺丰同城",desc:"顺丰同城"},{title:"蜂鸟即配",desc:"蜂鸟即配"},{title:"闪送",desc:"闪送"},{title:"uu跑腿",desc:"uu跑腿"}]),r=D(null),s=k({appId1:"",appKey1:"",storeId1:"",appId2:"",appKey2:"",storeId2:"",id:"",autoDelivery:"on",priorityDelivery:"merchant",backupDelivery:"fengniao"}),g=k({appId1:[{required:!0,message:"请输入左侧APP ID",trigger:"blur"}],appKey1:[{required:!0,message:"请输入左侧APPKey",trigger:"blur"}],storeId1:[{required:!0,message:"请输入左侧Store ID",trigger:"blur"}],appId2:[{required:!0,message:"请输入右侧APP ID",trigger:"blur"}],appKey2:[{required:!0,message:"请输入右侧APPKey",trigger:"blur"}],storeId2:[{required:!0,message:"请输入右侧Store ID",trigger:"blur"}],id:[{required:!0,message:"请输入ID",trigger:"blur"}],autoDelivery:[{required:!0,message:"请选择接单后自动配送状态",trigger:"change"}],priorityDelivery:[{required:!0,message:"请选择优先配送方式",trigger:"change"}],backupDelivery:[{required:!0,message:"请选择备用配送方式",trigger:"change"}]});return(x,a)=>{const p=L,e=N,u=R,n=S,f=j,_=X,b=B;return y(),v("div",null,[t(b,{ref_key:"formRef",ref:r,model:s,rules:g,"label-width":"100px",class:"p-4"},{default:l(()=>[t(e,{gutter:40},{default:l(()=>[(y(!0),v($,null,A(V.value,(i,P)=>(y(),I(p,{span:12,key:P},{default:l(()=>[d("div",M,[d("p",O,q(i.title),1),d("p",Q,q(i.desc),1)])]),_:2},1024))),128))]),_:1}),t(e,null,{default:l(()=>[t(p,{span:12},{default:l(()=>[t(n,{label:"APP ID",prop:"appId1"},{default:l(()=>[t(u,{modelValue:s.appId1,"onUpdate:modelValue":a[0]||(a[0]=i=>s.appId1=i),placeholder:"请输入蜂鸟APP ID"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,{span:12},{default:l(()=>[t(n,{label:"APPKey",prop:"appKey1"},{default:l(()=>[t(u,{modelValue:s.appKey1,"onUpdate:modelValue":a[1]||(a[1]=i=>s.appKey1=i),placeholder:"请输入APPKey"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,{span:12},{default:l(()=>[t(n,{label:"Store ID",prop:"storeId1"},{default:l(()=>[t(u,{modelValue:s.storeId1,"onUpdate:modelValue":a[2]||(a[2]=i=>s.storeId1=i),placeholder:"请输入蜂鸟Store ID"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,{span:12},{default:l(()=>[t(n,{label:"APP ID",prop:"appId2"},{default:l(()=>[t(u,{modelValue:s.appId2,"onUpdate:modelValue":a[3]||(a[3]=i=>s.appId2=i),placeholder:"请输入蜂鸟APP ID"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,{span:12},{default:l(()=>[t(n,{label:"APPKey",prop:"appKey2"},{default:l(()=>[t(u,{modelValue:s.appKey2,"onUpdate:modelValue":a[4]||(a[4]=i=>s.appKey2=i),placeholder:"请输入APPKey"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,{span:12},{default:l(()=>[t(n,{label:"Store ID",prop:"storeId2"},{default:l(()=>[t(u,{modelValue:s.storeId2,"onUpdate:modelValue":a[5]||(a[5]=i=>s.storeId2=i),placeholder:"请输入蜂鸟Store ID"},null,8,["modelValue"])]),_:1})]),_:1}),t(p,{span:12},{default:l(()=>[t(n,{label:"ID",prop:"id"},{default:l(()=>[t(u,{modelValue:s.id,"onUpdate:modelValue":a[6]||(a[6]=i=>s.id=i),placeholder:"请输入蜂鸟Store ID"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),d("div",null,[a[17]||(a[17]=d("div",{class:"e-title"},[d("p",null,"配送设置")],-1)),t(n,{label:"*接单后自动配送",prop:"autoDelivery","label-width":"130px"},{default:l(()=>[t(_,{modelValue:s.autoDelivery,"onUpdate:modelValue":a[7]||(a[7]=i=>s.autoDelivery=i)},{default:l(()=>[t(f,{label:"on"},{default:l(()=>a[10]||(a[10]=[m("开启")])),_:1,__:[10]}),t(f,{label:"off"},{default:l(()=>a[11]||(a[11]=[m("关闭")])),_:1,__:[11]})]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"*优先配送方式",prop:"priorityDelivery","label-width":"130px"},{default:l(()=>[t(_,{modelValue:s.priorityDelivery,"onUpdate:modelValue":a[8]||(a[8]=i=>s.priorityDelivery=i)},{default:l(()=>[t(f,{label:"merchant"},{default:l(()=>a[12]||(a[12]=[m("商家配送")])),_:1,__:[12]}),t(f,{label:"fengniao"},{default:l(()=>a[13]||(a[13]=[m("蜂鸟即配")])),_:1,__:[13]}),t(f,{label:"flash"},{default:l(()=>a[14]||(a[14]=[m("闪送")])),_:1,__:[14]})]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"*备用配送方式",prop:"backupDelivery","label-width":"130px"},{default:l(()=>[t(_,{modelValue:s.backupDelivery,"onUpdate:modelValue":a[9]||(a[9]=i=>s.backupDelivery=i)},{default:l(()=>[t(f,{label:"fengniao"},{default:l(()=>a[15]||(a[15]=[m("蜂鸟即配")])),_:1,__:[15]}),t(f,{label:"flash"},{default:l(()=>a[16]||(a[16]=[m("闪送")])),_:1,__:[16]})]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["model","rules"])])}}},Y=C(W,[["__scopeId","data-v-f201a51c"]]),Z={class:"w-full"},c={class:"w-full"},h={__name:"deliveryRegion",setup(U,{expose:V}){const r=k({pickupAddress:"",lng:"120.212390",lat:"120.212390",deliveryTime:"",deliveryRange:"1",feeType:"fixed",fixedFee:{minPrice:"",extraPrice:""},routeType:"straight",distanceConfig:{minPrice:"2",startPrice:"2",startKm:"",startFee:"",extraKm:"2",extraFee:""},specialTimes:[]}),s=k({pickupAddress:[{required:!0,message:"请输入取餐地址",trigger:"blur"}],deliveryTime:[{required:!0,message:"请输入预计配送时间",trigger:"blur"},{pattern:/^\d+$/,message:"请输入有效分钟数",trigger:"blur"}],deliveryRange:[{required:!0,message:"请输入配送范围",trigger:"blur"},{pattern:/^\d+$/,message:"请输入有效公里数",trigger:"blur"}],feeType:[{required:!0,message:"请选择配送费类型",trigger:"change"}],"fixedFee.minPrice":[{required:!0,message:"请输入起送价",trigger:"blur"},{pattern:/^\d+(\.\d{1,2})?$/,message:"请输入有效金额",trigger:"blur"}],"fixedFee.extraPrice":[{required:!0,message:"请输入配送费",trigger:"blur"},{pattern:/^\d+(\.\d{1,2})?$/,message:"请输入有效金额",trigger:"blur"}],routeType:[{required:!0,message:"请选择路径计算方式",trigger:"change"}],"distanceConfig.minPrice":[{required:!0,message:"请输入起送价",trigger:"blur"},{pattern:/^\d+(\.\d{1,2})?$/,message:"请输入有效金额",trigger:"blur"}],"distanceConfig.startPrice":[{required:!0,message:"请输入起步价",trigger:"blur"},{pattern:/^\d+(\.\d{1,2})?$/,message:"请输入有效金额",trigger:"blur"}],"distanceConfig.startKm":[{required:!0,message:"请输入起步公里数",trigger:"blur"},{pattern:/^\d+$/,message:"请输入有效公里数",trigger:"blur"}],"distanceConfig.startFee":[{required:!0,message:"请输入起步收取金额",trigger:"blur"},{pattern:/^\d+(\.\d{1,2})?$/,message:"请输入有效金额",trigger:"blur"}],"distanceConfig.extraKm":[{required:!0,message:"请输入超出公里数",trigger:"blur"},{pattern:/^\d+$/,message:"请输入有效公里数",trigger:"blur"}],"distanceConfig.extraFee":[{required:!0,message:"请输入超出收取金额",trigger:"blur"},{pattern:/^\d+(\.\d{1,2})?$/,message:"请输入有效金额",trigger:"blur"}]}),g=D(null),x=()=>{r.specialTimes.push({range:""})},a=p=>{r.specialTimes.splice(p,1)};return V({validate:()=>new Promise((p,e)=>{g.value.validate(u=>{u?p(r):e(new Error("表单验证失败"))})})}),(p,e)=>{const u=R,n=S,f=L,_=N,b=j,i=X,P=E,G=B;return y(),I(G,{ref_key:"formRef",ref:g,model:r,rules:s,"label-width":"130px",class:"delivery-form p-4"},{default:l(()=>[t(n,{label:"取餐地址",prop:"pickupAddress"},{default:l(()=>[t(u,{modelValue:r.pickupAddress,"onUpdate:modelValue":e[0]||(e[0]=o=>r.pickupAddress=o),placeholder:"请输入取餐地址",clearable:""},null,8,["modelValue"])]),_:1}),t(n,{label:"经纬度"},{default:l(()=>[t(_,{gutter:10},{default:l(()=>[t(f,{span:11},{default:l(()=>[t(u,{modelValue:r.lng,"onUpdate:modelValue":e[1]||(e[1]=o=>r.lng=o),placeholder:"经度",disabled:""},{prefix:l(()=>e[15]||(e[15]=[d("span",{class:"prefix-text"},"经度",-1)])),_:1},8,["modelValue"])]),_:1}),t(f,{span:11},{default:l(()=>[t(u,{modelValue:r.lat,"onUpdate:modelValue":e[2]||(e[2]=o=>r.lat=o),placeholder:"纬度",disabled:""},{prefix:l(()=>e[16]||(e[16]=[d("span",{class:"prefix-text"},"纬度",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(n,{label:"预计配送时间",prop:"deliveryTime"},{default:l(()=>[t(u,{modelValue:r.deliveryTime,"onUpdate:modelValue":e[3]||(e[3]=o=>r.deliveryTime=o),placeholder:"请输入分钟数"},{prepend:l(()=>e[17]||(e[17]=[d("span",{class:"range-tag"},"三公里内",-1)])),append:l(()=>e[18]||(e[18]=[d("span",{class:"unit"},"分钟",-1)])),_:1},8,["modelValue"])]),_:1}),t(n,{label:"配送范围",prop:"deliveryRange"},{default:l(()=>[t(u,{modelValue:r.deliveryRange,"onUpdate:modelValue":e[4]||(e[4]=o=>r.deliveryRange=o),placeholder:"请输入范围"},{append:l(()=>e[19]||(e[19]=[d("span",{class:"unit"},"km",-1)])),_:1},8,["modelValue"])]),_:1}),t(n,{label:"配送费",prop:"feeType"},{default:l(()=>[t(i,{modelValue:r.feeType,"onUpdate:modelValue":e[5]||(e[5]=o=>r.feeType=o)},{default:l(()=>[t(b,{label:"fixed"},{default:l(()=>e[20]||(e[20]=[m("固定金额")])),_:1,__:[20]}),t(b,{label:"distance"},{default:l(()=>e[21]||(e[21]=[m("按距离收取")])),_:1,__:[21]}),t(b,{label:"area"},{default:l(()=>e[22]||(e[22]=[m("按区域收取")])),_:1,__:[22]})]),_:1},8,["modelValue"])]),_:1}),r.feeType==="fixed"?(y(),I(_,{key:0,gutter:10,class:"ml-4 mt-2"},{default:l(()=>[t(f,{span:11},{default:l(()=>[t(n,{prop:"fixedFee.minPrice"},{default:l(()=>[t(u,{modelValue:r.fixedFee.minPrice,"onUpdate:modelValue":e[6]||(e[6]=o=>r.fixedFee.minPrice=o),placeholder:"请输入起送价"},{prepend:l(()=>e[23]||(e[23]=[d("span",{class:"prefix-text"},"起送价",-1)])),append:l(()=>e[24]||(e[24]=[d("span",{class:"unit"},"元",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1}),t(f,{span:11},{default:l(()=>[t(n,{prop:"fixedFee.extraPrice"},{default:l(()=>[t(u,{modelValue:r.fixedFee.extraPrice,"onUpdate:modelValue":e[7]||(e[7]=o=>r.fixedFee.extraPrice=o),placeholder:"请输入金额"},{prepend:l(()=>e[25]||(e[25]=[d("span",{class:"prefix-text"},"配送费",-1)])),append:l(()=>e[26]||(e[26]=[d("span",{class:"unit"},"元",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):w("",!0),r.feeType=="distance"?(y(),I(n,{key:1,label:"路径计算方式",prop:"routeType"},{default:l(()=>[d("div",null,[t(i,{modelValue:r.routeType,"onUpdate:modelValue":e[8]||(e[8]=o=>r.routeType=o)},{default:l(()=>[t(b,{label:"straight"},{default:l(()=>e[27]||(e[27]=[m("直线距离")])),_:1,__:[27]}),t(b,{label:"real"},{default:l(()=>e[28]||(e[28]=[m("实际距离")])),_:1,__:[28]})]),_:1},8,["modelValue"])]),d("div",Z,[t(u,{modelValue:r.distanceConfig.minPrice,"onUpdate:modelValue":e[9]||(e[9]=o=>r.distanceConfig.minPrice=o),placeholder:"请输入起送价",style:{width:"190px"}},{prefix:l(()=>e[29]||(e[29]=[d("span",{class:"prefix"},"起送价",-1)])),suffix:l(()=>e[30]||(e[30]=[d("span",{class:"unit"},"元",-1)])),_:1},8,["modelValue"])]),d("div",null,[t(u,{modelValue:r.distanceConfig.startPrice,"onUpdate:modelValue":e[10]||(e[10]=o=>r.distanceConfig.startPrice=o),placeholder:"请输入起步价",style:{width:"120px"}},{prefix:l(()=>e[31]||(e[31]=[d("span",{class:"prefix"},"起步价",-1)])),suffix:l(()=>e[32]||(e[32]=[d("span",{class:"unit"},"元",-1)])),_:1},8,["modelValue"]),e[35]||(e[35]=d("span",{class:"mx-2"},"/",-1)),t(u,{modelValue:r.distanceConfig.startKm,"onUpdate:modelValue":e[11]||(e[11]=o=>r.distanceConfig.startKm=o),placeholder:"请输入公里数",style:{width:"160px"}},{suffix:l(()=>e[33]||(e[33]=[d("span",{class:"unit"},"公里",-1)])),_:1},8,["modelValue"]),e[36]||(e[36]=d("span",{class:"mx-2"},"/",-1)),t(u,{modelValue:r.distanceConfig.startFee,"onUpdate:modelValue":e[12]||(e[12]=o=>r.distanceConfig.startFee=o),placeholder:"请输入收取金额",style:{width:"160px"}},{suffix:l(()=>e[34]||(e[34]=[d("span",{class:"unit"},"元",-1)])),_:1},8,["modelValue"])]),d("div",c,[t(u,{modelValue:r.distanceConfig.extraKm,"onUpdate:modelValue":e[13]||(e[13]=o=>r.distanceConfig.extraKm=o),placeholder:"请输入超出公里数",style:{width:"120px"}},{prefix:l(()=>e[37]||(e[37]=[d("span",{class:"prefix"},"超出",-1)])),suffix:l(()=>e[38]||(e[38]=[d("span",{class:"unit"},"公里",-1)])),_:1},8,["modelValue"]),e[40]||(e[40]=d("span",{class:"mx-2"},"/",-1)),t(u,{modelValue:r.distanceConfig.extraFee,"onUpdate:modelValue":e[14]||(e[14]=o=>r.distanceConfig.extraFee=o),placeholder:"请输入收取金额",style:{width:"160px"}},{suffix:l(()=>e[39]||(e[39]=[d("span",{class:"unit"},"元",-1)])),_:1},8,["modelValue"])]),e[41]||(e[41]=d("p",{class:"chaochutext"},"计费规则：例如设置 起步3km内5元，每增加 1km 加 1 元，超过6km，每增加 1km 加 2 元。如果配送距离5km，配送费：5 + （5-3）X 1 = 7元；配送距离8km，配送费：5 + （8-3）X 2 = 15元。",-1))]),_:1,__:[41]})):w("",!0),t(n,{label:"特殊时间段"},{default:l(()=>[t(P,{type:"text",icon:"el-icon-plus",onClick:x},{default:l(()=>e[42]||(e[42]=[m(" 添加特殊时段 ")])),_:1,__:[42]}),(y(!0),v($,null,A(r.specialTimes,(o,T)=>(y(),v("div",{class:"special-time-row mt-2",key:T},[t(u,{modelValue:o.range,"onUpdate:modelValue":K=>o.range=K,placeholder:"如 09:00-18:00"},{prefix:l(()=>e[43]||(e[43]=[d("span",{class:"prefix-text"},"时间",-1)])),_:2},1032,["modelValue","onUpdate:modelValue"]),t(P,{type:"danger",onClick:K=>a(T),class:"ml-2"},{default:l(()=>e[44]||(e[44]=[m("删除")])),_:2,__:[44]},1032,["onClick"])]))),128))]),_:1})]),_:1},8,["model","rules"])}}},ee=C(h,[["__scopeId","data-v-8c867fee"]]),le={style:{overflow:"hidden",width:"100%"}},te={class:"tabs-card"},re={class:"tabs-footer"},ae={__name:"deliverySettings",setup(U){const V=D("deliveryRegion");z();const r=async s=>{console.log("当前标签页:",s)};return(s,g)=>{const x=H,a=J,p=E;return y(),v("div",le,[d("div",te,[t(a,{modelValue:V.value,"onUpdate:modelValue":g[0]||(g[0]=e=>V.value=e),class:"demo-tabs",onTabChange:r},{default:l(()=>[t(x,{label:"同城配送",name:"sameCityDelivery"},{default:l(()=>[t(F(Y))]),_:1}),t(x,{label:"配送区域",name:"deliveryRegion"},{default:l(()=>[t(F(ee))]),_:1})]),_:1},8,["modelValue"]),d("div",re,[t(p,{type:"primary",class:"btn-submit"},{default:l(()=>g[1]||(g[1]=[m("完成")])),_:1,__:[1]})])]),g[2]||(g[2]=d("div",null,null,-1))])}}},Pe=C(ae,[["__scopeId","data-v-7fe6305c"]]);export{Pe as default};
